<div class="w-100 h-100">
  <div class="d-flex flex-column align-items-center h-100">

    <app-avatar-component [borderActive]="true"
                          [borderColor]="'grey'"
                          [size]="3"
                          class="m-4"></app-avatar-component>
    <app-points-badge [amount]="170"
                      class="points-badge"
                      [color]="'info'"></app-points-badge>

    <h3 class="p-2">{{ currUser.getUserName() }}</h3>


    <div *ngIf="currUser.userHasForumAccess()"
         class="card-deck mt-3">
      <div class="card btn btn-outline-secondary border-secondary"
           [routerLink]="['/profile', 'checklist']">
        <div class="card-body d-flex flex-column justify-content-center align-items-center">
          <h5 class="m-0">Checklist</h5>
          <fa-icon icon="tasks"
                   class="large-icon"></fa-icon>
        </div>
      </div>

      <div class="card btn btn-outline-secondary border-secondary"
           data-toggle="modal"
           data-target="#achievements-modal">
        <div class="card-body d-flex flex-column justify-content-center align-items-center">
          <h5 class="m-0">Achievements</h5>
          <fa-icon icon="trophy"
                   class="large-icon"></fa-icon>
        </div>
      </div>
    </div>

    <div *ngIf="currUser.userHasForumAccess()"
         class="d-flex flex-lg-row flex-column align-items-lg-start align-items-center my-3 w-100 px-lg-5 px-2">
      <app-points-distribution-chart class="mb-3 mb-lg-0 mx-lg-3 mx-0 w-50"></app-points-distribution-chart>

      <app-your-posts-card class="mx-lg-3 mx-0 w-50"
                           [collapseable]="false"></app-your-posts-card>
    </div>

    <div *ngIf="!currUser.userHasForumAccess()"
         class="d-flex mb-3">

      <app-leaderboard class="flex-fill mr-4 mt-3"></app-leaderboard>

      <div class="d-flex flex-column">
        <div class="card-deck mt-3">
          <div class="card btn btn-outline-secondary border-secondary"
               [routerLink]="['/profile', 'checklist']">
            <div class="card-body d-flex flex-column justify-content-center align-items-center">
              <h5 class="m-0">Checklist</h5>
              <fa-icon icon="tasks"
                       class="large-icon"></fa-icon>
            </div>
          </div>

          <div class="card btn btn-outline-secondary border-secondary"
               data-toggle="modal"
               data-target="#achievements-modal">
            <div class="card-body d-flex flex-column justify-content-center align-items-center">
              <h5 class="m-0">Achievements</h5>
              <fa-icon icon="trophy"
                       class="large-icon"></fa-icon>
            </div>
          </div>
        </div>
        <app-points-distribution-chart class="mt-3"></app-points-distribution-chart>
      </div>


    </div>


    <!-- <h5 class="mt-4">Earned points distribution</h5>
    <div class="list-group m-0">
      <div class="list-group-item d-flex flex-row">
        From checklist
        <app-points-badge [amount]="89" class="ml-auto"></app-points-badge>
      </div>
      <div class="list-group-item d-flex flex-row">
        Home page interaction
        <app-points-badge [amount]="10" class="ml-auto"></app-points-badge>
      </div>
      <div class="list-group-item d-flex flex-row">
        Explore page interaction
        <app-points-badge [amount]="16" class="ml-auto"></app-points-badge>
      </div>
      <div class="list-group-item d-flex flex-row">
        Forum page interaction
        <app-points-badge [amount]="8" class="ml-auto"></app-points-badge>
      </div>
    </div> -->


    <button class="mt-auto mb-5 btn btn-outline-danger"
            (click)="onLogout()">
      Log out
    </button>

  </div>
</div>


<div class="modal fade mt-5"
     id="checklist-modal"
     tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <app-checklist></app-checklist>
    </div>
  </div>
</div>


<div class="modal fade mt-5"
     id="achievements-modal"
     tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <app-achievements></app-achievements>
    </div>
  </div>
</div>
